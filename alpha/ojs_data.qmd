```{ojs}
//| echo: false

FA = FileAttachment

nwk = await FA("/alpha/tree.newick").text()

annotations = await FileAttachment("/alpha/annotations.json").json()

annotationsMap = Object.assign({}, ...(annotations.map(item => ({ [item.id]: { id: item.id, name: item.name, toolbox: item.toolbox, show: !!item.show } }) )))

toolbox = await FileAttachment("/toolbox/toolbox.json").json()

toolboxMap = Object.assign({}, ...(toolbox.map(item => ({ [item.id]: { id: item.id, name: item.name, description: item.description } }) )))

import { denormalized_list } from "/toolbox/index.qmd"

function virus_toolbox(_family, _virus) {

  const denormalized_sublist =
    denormalized_list.filter(row => row.virus_id == _virus && row.family == _family)
 
  return html`
    ${toolbox.filter(tool => denormalized_sublist.filter(t => t.tool_id == tool.id).length > 0 ).map(tool => 
      html`
      <h2 id="${tool.id}-section">${tool.name}</h2>
      <div class="container grid">
        <div class="g-col-2 toolbox" style="text-align:center;">
          <div class="tool-container">
            <div class="tool-selected" style="text-align:center;padding:70px 0;font-weight:500" >
              <p>${tool.id}</p>
            </div>
          </div>
        </div>
        <div class="g-col-1"></div>
        <div class="g-col-7">
          <p>${tool.description}</p>
        </div>
        <div class="g-col-1" style="text-align:center;">
        </div>
      </div>
      <div class="col-xs-12" style="height:30px;"></div>
      `
    )}
  `
}

```
